# cookiecutter


### A Quote for the Cookie Cutter
In a terminal, typing:
```
git clone git@github.com/wolftype/cookiecutter.git
cd cookiecutter
./build.sh
```
will build and run the `ccquote` binary, outputting cost quotes for the three given `files/*.json` schemas.  Additional
quotes can be generated by passing a filename to the `ccquote` binary:

    ./ccquote files/Rectangle.json

#### A Lightweight 2D Geometry Problem.
This repo was created in order to solve a specific "coding challenge" assignment
to estimate the cost of manufacturing of some simple shapes based on time it will take to laser etch the path and the amount of material required to make it.  

#### Framing the problem

After importing 2D Coordinate Data and mesh topology according to files/Schema.json (using a library such as [jsoncpp](https://github.com/open-source-parsers/jsoncpp)) the problem can be geometrically constructed as:

1. Integrate the (curvature-weighted) length of a specified path composed of straight lines and arc segments.
2. Find the area of the minimum bounding box of a set of points.

The first problem integrating length is trivial, with the length of arc segments calculated using an atan2 function.

A general solution to the second problem is slightly more involved, as it entails finding the convex hull of a set of points, and then finding the minimum bounding box of that hull. We note that the set of points are not just the vertices listed in the `.json` files, but must also include the results of discretizing arc segments between them, as these arcs may extrude from the straight line path between points and therefore affect the dimensions of the bounding box.

### Outline of Solution

1. Represent geometry in memory:
    * Vertices:
          struct Vec2 { double x,y; };
    * Straight Edges as pointers to Vertices:
          std::vector< std::shared_ptr<Vec2> > mVec;
    * Circular Arcs as Edges with additional data
          Vec2 mCenter;
          bool bClockwise;
2. Load data into memory with [jsoncpp](https://github.com/open-source-parsers/jsoncpp) library
```
Data data;
data.load("files/CutCircularArc.json");
```
3. Use the [Monotone Chain Algorithm](https://en.wikibooks.org/wiki/Algorithm_Implementation/Geometry/Convex_hull/Monotone_chain) to create convex hull of discretized data:
```
std::vector<Vec2> input = data.discretize();
std::vector<Vec2> hull = Hull::Convex( input);
```
4. Use [Rotating Calipers](https://en.wikipedia.org/wiki/Rotating_calipers) method to find area of minimum bounding box of convex hull
        auto box = Hull::MinimumBox( hull );
5. Calculate Time Cost based on lengths of edges and arcs and the Material Cost based on area.
